# seajs-init

sea.js项目初始化的脚手架，包括模板引擎，mock数据，项目发布部署的相关配置。该脚手架可以实现前后端分离，使前端人员开发脱离后端服务独立开发运行调试，思想类似于百度出品的FIS。

## 初衷

* 前后端分离

  关于前后端分离的意义，有的人持否定意见，有的人持肯定意见，国外基本很少听到这个词，而国内基本认可的一个词。至于分离好还是不分离好，我认可前者。我给我自己的理由是：

  * **术业有专攻：**铜匠做不了铁匠的事情，电工做不了木工的事情，如果一个人什么都做那只能是什么都不精。中国比较推崇的是一技之长，外国推崇综合素质，这种文化不同可能是受教育环境影响。
  * **社会分工朝向专项化发展：**社会分工更明确才能保证工作高效进行，保证每个人所做的工作是自己所最擅长的工作，那效率是最高的，即使是full stack ,我相信他也会有倾向，即使是前端也会有喜欢些css不喜欢写js的人，所以为什么不把工作锁定在自己最擅长的地方发展呢。如果一个老板能把一个公司的所有工作都能胜任，为什么要分运营，会计，人事，研发呢。社会分工必然是向微型化，专项化发展。
  * **前后端分离所带来的联调成本只能说我们还没有做好：**解决一个问题时时常会出现新的问题，这是历史必然的发展规律，当人们制作汽车作为交通工具时解决了人们远距离出行的问题，但会引起交通事故上升，大气污染等问题，但出现新的问题不代表人类制造汽车就不是进步了。这时候我们应该抱有遇到问题解决问题的思想，以科学发展观看待。直至现在很多技术架构师也没有真正解决这个联调带来的沟通成本问题，但是我觉得这个问题迟早会被解决，我坚信。别人不能不代表我不能。
  * **前后端分离可以实现前后端并行开发：**并行开发是在保证了每个人在自己擅长的领域里做自己最高效的工作前提下，同时开发，并不像有些人说的要工作流阻塞等待。

* 前端模块化

  前端复杂化导致web应用越来越大，模块化开发必然

* 前端工程化

  代码版本库可脱离后端服务代码单独管理，会带来一个新的问题就是前端代码的发布和部署





### 方案

* node 借助 express 轻量服务器，监听3000端口，为静态资源提供服务容器，使前端开发完全脱离后端服务即可开发，保证前后端的并行
* 使用node 转发RESTful API,本地使用node 模块模拟数据，采用mockjs 产生随机数据
* 使用swig 模板引擎达到静态html的模板分割，使公共部分如头部尾部等公共不分模块化

### 脚本

* start

```
//启动本地mock数据进行纯前端开发，在项目开发初期使用
npm run start
//假数据在 /php/ 目录下，目录结构和深度和商定的接口格式一致，如接口是/project/add，对应的假数据应在'/php/project/add.js'文件中 
```

* dev

```
启动本地服务代理真实数据来联调数据使用，在前后端开发基本完成后项目联调阶段使用
npm run dev
```

* build

```
//发布代码，未压缩代码，可发布到测试环境
npm run build
or
gulp //如果本地全局装了gulp 即可使用该命令达到同样效果，全局安装gulp 请执行 `npm install -g gulp`
```

* release

```
//发布生产环境代码，会压缩并且加hash值，可发布到线上环境
npm run release
or
gulp --release
```

### 目录
如果使用该目录结构用于新项目，注意以下目录结构尽量不要变 
/bin 
/html  纯静态页，一般网页重构师（小龙）工作输出目录 
/php   mock数据 
/proxy 接口代理，node实现
/public 静态资源文件目录
/public/css 一般是第三方样式库
/public/img 
/public/js  主程序
/public/js/lib  第三方js类库
/public/js/seajs-config.js  sea.js的配置文件 
/public/less  自主编写的样式文件，小龙负责
/view      真实逻辑页面
/app.js    node服务器入口
/config.json  被加入.gitignore 每个人在本地配置的发布路径，和php程序的本地目录相关







[Web 前后端分离的意义大吗?](https://www.zhihu.com/question/28207685)

[我们为什么要尝试前后端分离](http://web.jobbole.com/87505/)

